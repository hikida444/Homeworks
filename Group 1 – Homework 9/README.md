# Домашнее задание №9 — ООП в C#

Репозиторий содержит решения задач по **объектно-ориентированному программированию** на C# — работа с классами, структурами, перечислениями, свойствами, методами и паттернами жизненного цикла объектов.

> [!IMPORTANT]
> Каждая программа — самостоятельное консольное приложение. Код можно скопировать в `Program.cs` и запустить из Visual Studio, Rider или через `dotnet run`.

---

## Содержание

1. [BankAccount.cs](#1-bankaccountcs--банковский-счёт-базовая-реализация) — банковский счёт с балансом и операциями
2. [BankAccount2.cs](#2-bankaccount2cs--банковский-счёт-с-автогенерацией-номера) — автоматическая генерация уникального номера счёта
3. [BankAccount3.cs](#3-bankaccount3cs--банковский-счёт-с-историей-транзакций) — добавление истории операций и сохранение в файл
4. [Music.cs](#4-musiccs--класс-песни-с-цепочкой) — класс `Song` с конструкторами, сеттерами и связным списком
5. [TaskManagerSystem.cs](#5-taskmanagersystemcs--система-управления-задачами) — полноценная система управления проектами и задачами

---

## 1. BankAccount.cs — Банковский счёт (базовая реализация)

**Описание:**  
Класс `BankAccount` с закрытыми полями: номер счёта, баланс, тип счёта (перечисление `AccountType`). Предусмотрены методы для пополнения, снятия и перевода средств между счетами.

**Основные возможности:**
- Четыре конструктора для разных вариантов инициализации
- Свойства для доступа к полям (get/set)
- Метод `Deposit(amount)` — пополнение счёта
- Метод `Withdraw(amount)` — снятие с проверкой баланса
- Метод `Transfer(targetAccount, amount)` — перевод между счетами

**Перечисление:**
enum AccountType { Current, Savings }

text

---

## 2. BankAccount2.cs — Банковский счёт с автогенерацией номера

**Описание:**  
Улучшенная версия класса `BankAccount`, в которой номер счёта генерируется автоматически и гарантированно уникален. Используется статическая переменная `counter` и статический метод `GenerateAccountNumber()`.

**Изменения относительно BankAccount.cs:**
- Добавлено статическое поле `counter` для хранения последнего использованного номера
- Статический метод `GenerateAccountNumber()` автоматически инкрементирует счётчик
- Номер счёта назначается в конструкторе и недоступен для изменения извне

> [!NOTE]
> Уникальность номера гарантируется только в рамках одного запуска программы. При перезапуске счётчик обнуляется.

---

## 3. BankAccount3.cs — Банковский счёт с историей транзакций

**Описание:**  
Расширенная версия класса с добавлением истории операций через класс `BankTransaction` и очередь `Queue`. Реализован интерфейс `IDisposable` для сохранения истории транзакций в текстовый файл при завершении работы со счётом.

**Новые возможности:**
- Класс `BankTransaction` фиксирует дату/время и сумму операции
- Коллекция `Queue<BankTransaction>` хранит все операции по счёту
- Каждое пополнение/снятие автоматически добавляет запись в историю
- Метод `Dispose()` сохраняет все транзакции в файл `account_{номер}_transactions.txt`

**Реализация:**
public class BankAccount : IDisposable
{
private Queue transactions;

text
public void Dispose()
{
    // Сохранение истории в файл
}
}

---

## 4. Music.cs — Класс песни с цепочкой

**Описание:**  
Класс `Song` для работы с музыкальными композициями. Реализованы три конструктора, методы-сеттеры для полей, метод сравнения `Equals` и возможность связывания песен в цепочку через поле `prev` (простой связный список).

**Структура класса:**
- Поля: `name`, `author`, `prev` (ссылка на предыдущую песню)
- Три конструктора: по умолчанию, с параметрами name/author, с добавлением prev
- Сеттеры: `SetName()`, `SetAuthor()`, `SetPrev()`
- Метод `Title()` возвращает строку вида "название - автор"
- Метод `Print()` выводит информацию о песне в консоль
- Переопределённый `Equals()` для сравнения песен по name и author

**Применение:**
Позволяет создавать плейлисты с навигацией к предыдущей композиции, сравнивать песни и выводить их форматированный вид.

---

## 5. TaskManagerSystem.cs — Система управления задачами

**Описание:**  
Полноценная система управления проектами и задачами с реализацией всех принципов ООП. Демонстрирует работу перечислений, классов, статусов, коллекций и бизнес-логики жизненного цикла проекта.

### Основные классы

**Person** — участник команды или заказчик
- Поля: `Id`, `Name`, `Position`

**Report** — отчёт по выполненной задаче
- Поля: `Id`, `Text`, `CreatedDate`, `Executor`

**Task** — задача внутри проекта
- Статусы: `Assigned`, `InWork`, `UnderReview`, `Completed`
- Методы: `TakeToWork()`, `DelegateTask()`, `RejectTask()`, `CreateReport()`, `ApproveReport()`, `RejectReport()`
- Поддержка делегирования, отказа от задачи и возврата отчёта на доработку

**Project** — проект, содержащий задачи
- Статусы: `Project`, `Execution`, `Closed`
- Методы: `CreateTask()`, `StartExecution()`, `CloseProject()`, `DeleteTask()`, `ReassignTask()`
- Проверка возможности закрытия: все задачи должны быть завершены

**TaskManagerSystem** — главный класс для демонстрации
- Создаёт команду из 10 человек с разными ролями
- Создаёт проект "Разработка CRM-системы 'SalesPro'"
- Назначает 9 задач для членов команды
- Симулирует различные сценарии: нормальное выполнение, делегирование, отклонение, возврат на доработку, удаление задачи
- Выводит статистику проекта с использованием LINQ

### Демонстрируемые сценарии

1. **Нормальный процесс** — задача взята в работу, отчёт создан и утверждён
2. **Делегирование** — исполнитель передаёт задачу другому сотруднику
3. **Возврат отчёта** — тимлид возвращает отчёт на доработку
4. **Отклонение задачи** — исполнитель отказывается, задача переназначается
5. **Удаление задачи** — тимлид удаляет невзятую в работу задачу
6. **Массовое выполнение** — автоматическое завершение остальных задач

> [!NOTE]
> Программа использует LINQ для фильтрации, группировки и подсчёта статистики по задачам и исполнителям.

---

## Как запустить решения

> [!NOTE]
> Все файлы — обычные консольные программы C#. Каждую можно запускать отдельно.

### Вариант 1: через Visual Studio / Rider / VS Code

1. Создайте новый проект «Консольное приложение» на C#
2. Откройте файл `Program.cs` и **замените** его содержимое кодом из нужного файла (например, `BankAccount.cs`)
3. Запустите проект (кнопка ▶ или клавиша F5)

### Вариант 2: через .NET CLI

1. Установите .NET SDK
2. В папке, где лежит `.csproj` проекта, выполните в терминале команду:

dotnet run


---

## Требования

- **.NET SDK** (версия 6.0 или выше рекомендуется)
- Любая IDE: **Visual Studio**, **Rider**, **VS Code** с расширением C#

---

## Структура репозитория

├── BankAccount.cs # Упражнение 7.1
├── BankAccount2.cs # Упражнение 7.2
├── BankAccount3.cs # Упражнение 7.3
├── Music.cs # Домашнее задание 7.1
└── TaskManagerSystem.cs # Домашнее задание 7.2


Каждый файл содержит полное решение с комментариями на русском языке.

---

## Полезные ссылки

- [Документация C# от Microsoft](https://learn.microsoft.com/ru-ru/dotnet/csharp/)
- [Руководство по .NET CLI](https://learn.microsoft.com/ru-ru/dotnet/core/tools/)
- [ООП в C#](https://learn.microsoft.com/ru-ru/dotnet/csharp/fundamentals/object-oriented/)

---

**Автор:** hikida444  
